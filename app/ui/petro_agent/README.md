# PetroAgent - æ™ºèƒ½åœ°è´¨åˆ†æç³»ç»Ÿå‰ç«¯

è¿™æ˜¯ä¸€ä¸ªåŸºäº Next.js å’Œ assistant-ui æ„å»ºçš„ç°ä»£åŒ–å‰ç«¯ç•Œé¢ï¼Œç”¨äºå¤©ç„¶æ°”ç¢³åŒä½ç´ æ•°æ®è§£é‡Šæ™ºèƒ½ä½“ç³»ç»Ÿã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### å…­å¤§æ ¸å¿ƒæ¨¡å—

1. **å®æ—¶ä»ªè¡¨ç›˜** - ç³»ç»ŸçŠ¶æ€ç›‘æ§å’Œé¡¹ç›®è¿›åº¦æ¦‚è§ˆ
2. **åœ°è´¨å»ºæ¨¡ä¸­å¿ƒ** - AIé©±åŠ¨çš„åœ°è´¨å»ºæ¨¡å·¥å…·ï¼Œé›†æˆassistant-uièŠå¤©ç•Œé¢
3. **å·¥ä½œæµç®¡ç†** - ä»»åŠ¡ç¼–æ’å’ŒDAGå¯è§†åŒ–
4. **æ•°æ®ç®¡ç†ä¸­å¿ƒ** - å¤šæºæ•°æ®é›†æˆå’Œæ–‡ä»¶ç®¡ç†
5. **æ™ºèƒ½å†³ç­–åˆ†æ** - ç”œç‚¹è¯†åˆ«ã€èµ„æºè¯„ä¼°ã€ç»æµè¯„ä»·
6. **AIæ™ºèƒ½åŠ©æ‰‹** - è‡ªç„¶è¯­è¨€äº¤äº’å’Œä¼šè¯ç®¡ç†

### æŠ€æœ¯äº®ç‚¹

- ğŸ¨ **ç°ä»£åŒ–UIè®¾è®¡** - åŸºäº Tailwind CSS å’Œ shadcn/ui ç»„ä»¶
- ğŸ¤– **AIåŠ©æ‰‹é›†æˆ** - ä½¿ç”¨ assistant-ui å’Œ LangGraph è¿è¡Œæ—¶
- ğŸ“Š **å®æ—¶æ•°æ®å¯è§†åŒ–** - Recharts å›¾è¡¨å’Œ Mermaid å·¥ä½œæµå›¾
- ğŸ”„ **æµå¼æ•°æ®å¤„ç†** - æ”¯æŒå®æ—¶æµå¼è¾“å‡ºå’ŒWebSocketé€šä¿¡
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…å„ç§å±å¹•å°ºå¯¸
- ğŸŒ **å›½é™…åŒ–æ”¯æŒ** - ä¸­æ–‡ç•Œé¢å’Œæœ¬åœ°åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+ 
- npm æˆ– yarn
- åç«¯APIæœåŠ¡å™¨è¿è¡Œåœ¨ `localhost:7102`

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹åº”ç”¨

### ç”Ÿäº§æ„å»º

```bash
npm run build
npm start
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
app/ui/petro_agent/
â”œâ”€â”€ app/                    # Next.js åº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx           # ä¸»é¡µé¢
â”‚   â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/               # åŸºç¡€UIç»„ä»¶
â”‚   â”œâ”€â”€ assistant-ui/     # AIåŠ©æ‰‹ç»„ä»¶
â”‚   â”œâ”€â”€ Dashboard.tsx     # ä»ªè¡¨ç›˜ç»„ä»¶
â”‚   â”œâ”€â”€ GeologicalModelingHub.tsx  # åœ°è´¨å»ºæ¨¡ä¸­å¿ƒ
â”‚   â”œâ”€â”€ FileManager.tsx   # æ–‡ä»¶ç®¡ç†å™¨
â”‚   â”œâ”€â”€ SessionManager.tsx # ä¼šè¯ç®¡ç†å™¨
â”‚   â””â”€â”€ DAGVisualization.tsx # DAGå¯è§†åŒ–
â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â”œâ”€â”€ utils.ts         # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ chatApi.ts       # APIå®¢æˆ·ç«¯
â””â”€â”€ package.json         # é¡¹ç›®é…ç½®
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
NEXT_PUBLIC_API_BASE_URL=http://localhost:7102
NEXT_PUBLIC_LANGGRAPH_API_URL=http://localhost:7102/api/v1
NEXT_PUBLIC_LANGGRAPH_ASSISTANT_ID=your_assistant_id
```

### API é›†æˆ

å‰ç«¯é€šè¿‡ä»¥ä¸‹APIç«¯ç‚¹ä¸åç«¯é€šä¿¡ï¼š

- `GET /api/v1/system/status` - ç³»ç»ŸçŠ¶æ€
- `POST /api/v1/sessions` - åˆ›å»ºä¼šè¯
- `GET /api/v1/sessions` - è·å–ä¼šè¯åˆ—è¡¨
- `POST /api/v1/chat/send` - å‘é€æ¶ˆæ¯
- `GET /api/v1/files` - æ–‡ä»¶ç®¡ç†
- `POST /api/v1/files/upload` - æ–‡ä»¶ä¸Šä¼ 

## ğŸ¯ æ ¸å¿ƒç»„ä»¶è¯´æ˜

### Dashboard ç»„ä»¶
- å®æ—¶ç³»ç»Ÿç›‘æ§
- é¡¹ç›®è¿›åº¦è·Ÿè¸ª
- ä»»åŠ¡æ‰§è¡Œæ—¶é—´çº¿
- æ™ºèƒ½ä½“çŠ¶æ€é¢æ¿

### GeologicalModelingHub ç»„ä»¶
- å·¦ä¾§å‚æ•°é…ç½®é¢æ¿
- ä¸­å¤®3Dæ¨¡å‹è§†å›¾
- å³ä¾§AIåŠ©æ‰‹èŠå¤©
- æ¨¡å‹è´¨é‡éªŒè¯

### FileManager ç»„ä»¶
- æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½
- æ–‡ä»¶ç±»å‹è¯†åˆ«
- æ‰¹é‡æ“ä½œæ”¯æŒ
- ä¼šè¯æ–‡ä»¶ç®¡ç†

### SessionManager ç»„ä»¶
- ä¼šè¯åˆ›å»ºå’Œåˆ é™¤
- ä¼šè¯çŠ¶æ€ç®¡ç†
- å†å²ä¼šè¯æµè§ˆ
- å…ƒæ•°æ®ç¼–è¾‘

## ğŸ”„ ä¸åç«¯é›†æˆ

### LangGraph é›†æˆ
ä½¿ç”¨ `@assistant-ui/react-langgraph` å®ç°ä¸åç«¯LangGraphæœåŠ¡çš„æ— ç¼é›†æˆï¼š

```typescript
const runtime = useLangGraphRuntime({
  threadId: sessionId,
  stream: async function* (messages, { command }) {
    // æµå¼å¤„ç†å®ç°
  },
});
```

### å®æ—¶é€šä¿¡
æ”¯æŒServer-Sent Events (SSE) å’Œ WebSocket è¿›è¡Œå®æ—¶æ•°æ®ä¼ è¾“ã€‚

## ğŸ¨ UI/UX è®¾è®¡

### è®¾è®¡åŸåˆ™
- **ç›´è§‚æ˜“ç”¨** - æ¸…æ™°çš„ä¿¡æ¯æ¶æ„å’Œå¯¼èˆª
- **å“åº”å¼** - é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **ä¸€è‡´æ€§** - ç»Ÿä¸€çš„è®¾è®¡è¯­è¨€å’Œäº¤äº’æ¨¡å¼
- **å¯è®¿é—®æ€§** - æ”¯æŒé”®ç›˜å¯¼èˆªå’Œå±å¹•é˜…è¯»å™¨

### ä¸»é¢˜ç³»ç»Ÿ
æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢ï¼Œä½¿ç”¨CSSå˜é‡å®ç°ä¸»é¢˜å®šåˆ¶ã€‚

## ğŸ“Š æ•°æ®å¯è§†åŒ–

### å›¾è¡¨ç»„ä»¶
- **Recharts** - ç»Ÿè®¡å›¾è¡¨å’Œæ•°æ®åˆ†æ
- **Mermaid** - å·¥ä½œæµç¨‹å›¾å’ŒDAGå¯è§†åŒ–
- **Three.js** - 3Dåœ°è´¨æ¨¡å‹å±•ç¤ºï¼ˆè§„åˆ’ä¸­ï¼‰

## ğŸ” å¼€å‘æŒ‡å—

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `components/` ç›®å½•åˆ›å»ºç»„ä»¶æ–‡ä»¶
2. ä½¿ç”¨ TypeScript å®šä¹‰ props æ¥å£
3. éµå¾ªç°æœ‰çš„å‘½åçº¦å®š
4. æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†

### API è°ƒç”¨è§„èŒƒ

```typescript
// ä½¿ç”¨ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
try {
  const response = await fetch(`${apiBaseUrl}/api/v1/endpoint`);
  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }
  const data = await response.json();
  // å¤„ç†æ•°æ®
} catch (error) {
  console.error('APIè°ƒç”¨å¤±è´¥:', error);
  // é”™è¯¯å¤„ç†
}
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•
npm test

# ç±»å‹æ£€æŸ¥
npm run type-check

# ä»£ç æ£€æŸ¥
npm run lint
```

## ğŸ“¦ éƒ¨ç½²

### Docker éƒ¨ç½²

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]
```

### ç¯å¢ƒé…ç½®
- **å¼€å‘ç¯å¢ƒ**: `npm run dev`
- **æµ‹è¯•ç¯å¢ƒ**: `npm run build && npm start`
- **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨ PM2 æˆ– Docker å®¹å™¨

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ„å»ºå¤±è´¥** - æ£€æŸ¥ Node.js ç‰ˆæœ¬å’Œä¾èµ–å®‰è£…
2. **APIè¿æ¥å¤±è´¥** - ç¡®è®¤åç«¯æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€
3. **æ ·å¼é—®é¢˜** - æ¸…é™¤æµè§ˆå™¨ç¼“å­˜æˆ–é‡æ–°æ„å»º
4. **ç±»å‹é”™è¯¯** - è¿è¡Œ `npm run type-check` æ£€æŸ¥ç±»å‹

### è·å–å¸®åŠ©

- æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
- æ£€æŸ¥ç½‘ç»œè¯·æ±‚çŠ¶æ€
- ç¡®è®¤ç¯å¢ƒå˜é‡é…ç½®
- è”ç³»å¼€å‘å›¢é˜Ÿ

---

**PetroAgent** - è®©åœ°è´¨åˆ†ææ›´æ™ºèƒ½ï¼Œè®©å†³ç­–æ›´ç²¾å‡†ï¼
